{"ast":null,"code":"var _jsxFileName = \"/Users/carmenyap/test-site/UNIV Web - FitnessTrackr_React Front-End/src/Components/Update.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { updateRoutines, fetchRoutines } from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Update = _ref => {\n  _s();\n\n  let {\n    setPosts,\n    posts,\n    setUserdata,\n    userdata\n  } = _ref;\n  const [name, setName] = useState(\"\");\n  const [goals, setgoals] = useState(\"\");\n  const [prices, setPrices] = useState(\"\");\n  const [locations, setLocations] = useState(\"\");\n  const [isPublic, setIsPublic] = useState(\"\");\n  const history = useNavigate();\n  const params = useParams();\n  const post_id = params.id;\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const localSourcedToken = localStorage.getItem(\"token\");\n    console.log(isPublic);\n    const response = await updateRoutines(localSourcedToken, name, goals, prices, locations, isPublic, post_id);\n\n    if (response.success) {\n      fetchRoutines().then(posts => {\n        setPosts(posts);\n      });\n      history(\"/posts\");\n    }\n  };\n\n  const checkboxToggle = () => {\n    document.getElementById(\"controlledCheckbox\").checked = isPublic;\n  }; // useEffect(() => {\n  //   // checkboxToggle();\n  // }, [isPublic]);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: posts && posts.filter(post => {\n      if (userdata && userdata._id) {\n        return post._id === post_id;\n      }\n\n      return false;\n    }).map(_ref2 => {\n      let {\n        title,\n        goal,\n        price,\n        location,\n        isPublic\n      } = _ref2;\n      if (!name) setName(title);\n      if (!goals) setgoals(goal);\n      if (isPublic === null) setIsPublic(isPublic); // setIsPublic(isPublic);\n\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"update-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"update-form-grp\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: name,\n            id: \"title_input\",\n            onChange: event => setName(event.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"update-form-grp\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"goal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            type: \"text\",\n            value: goals,\n            row: \"5\",\n            id: \"goal_input\",\n            onChange: event => setgoals(event.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"update-form-grp\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"update-form-grp-cbox\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"controlledCheckbox\",\n              type: \"checkbox\",\n              checked: isPublic,\n              onChange: event => setIsPublic(event.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Will Deliver?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Update Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)]\n      }, \"_id\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Update, \"E0pv9bg5LzRYqk+uqQM5kur2BkE=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = Update;\nexport default Update;\n\nvar _c;\n\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"sources":["/Users/carmenyap/test-site/UNIV Web - FitnessTrackr_React Front-End/src/Components/Update.js"],"names":["useState","useEffect","useParams","useNavigate","updateRoutines","fetchRoutines","Update","setPosts","posts","setUserdata","userdata","name","setName","goals","setgoals","prices","setPrices","locations","setLocations","isPublic","setIsPublic","history","params","post_id","id","handleSubmit","event","preventDefault","localSourcedToken","localStorage","getItem","console","log","response","success","then","checkboxToggle","document","getElementById","checked","filter","post","_id","map","title","goal","price","location","target","value"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { updateRoutines, fetchRoutines } from \"../api\";\n\nconst Update = ({ setPosts, posts, setUserdata, userdata }) => {\n  const [name, setName] = useState(\"\");\n  const [goals, setgoals] = useState(\"\");\n  const [prices, setPrices] = useState(\"\");\n  const [locations, setLocations] = useState(\"\");\n  const [isPublic, setIsPublic] = useState(\"\");\n  const history = useNavigate();\n  const params = useParams();\n  const post_id = params.id;\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const localSourcedToken = localStorage.getItem(\"token\");\n    console.log(isPublic);\n\n    const response = await updateRoutines(\n      localSourcedToken,\n      name,\n      goals,\n      prices,\n      locations,\n      isPublic,\n      post_id\n    );\n\n    if (response.success) {\n      fetchRoutines().then((posts) => {\n        setPosts(posts);\n      });\n      history(\"/posts\");\n    }\n  };\n\n  const checkboxToggle = () => {\n    document.getElementById(\"controlledCheckbox\").checked = isPublic;\n  };\n\n  // useEffect(() => {\n  //   // checkboxToggle();\n  // }, [isPublic]);\n\n  return (\n    <div>\n      {posts &&\n        posts\n          .filter((post) => {\n            if (userdata && userdata._id) {\n              return post._id === post_id;\n            }\n            return false;\n          })\n\n          .map(({ title, goal, price, location, isPublic }) => {\n            if (!name) setName(title);\n            if (!goals) setgoals(goal);\n            if (isPublic === null) setIsPublic(isPublic);\n            // setIsPublic(isPublic);\n\n            return (\n              <form key=\"_id\" onSubmit={handleSubmit} className=\"update-form\">\n                <div className=\"update-form-grp\">\n                  <label>Title</label>\n                  <input\n                    type=\"text\"\n                    value={name}\n                    id=\"title_input\"\n                    onChange={(event) => setName(event.target.value)}\n                  />\n                </div>\n\n                <div className=\"update-form-grp\">\n                  <label>goal</label>\n                  <textarea\n                    type=\"text\"\n                    value={goals}\n                    row=\"5\"\n                    id=\"goal_input\"\n                    onChange={(event) => setgoals(event.target.value)}\n                  />\n                </div>\n\n                <div className=\"update-form-grp\">\n                  <div className=\"update-form-grp-cbox\">\n                    <input\n                      id=\"controlledCheckbox\"\n                      type=\"checkbox\"\n                      checked={isPublic}\n                      onChange={(event) => setIsPublic(event.target.checked)}\n                    />\n\n                    <span>Will Deliver?</span>\n                  </div>\n                </div>\n\n                <button type=\"submit\">Update Post</button>\n              </form>\n            );\n          })}\n    </div>\n  );\n};\n\nexport default Update;\n"]},"metadata":{},"sourceType":"module"}